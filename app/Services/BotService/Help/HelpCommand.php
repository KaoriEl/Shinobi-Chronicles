<?php

namespace App\Services\BotService\Help;

use App\Contracts\ChatStrategy;
use App\Http\Controllers\UserController;
use App\Services\BotService\VkEngine\KeyboardGenerate;
use Illuminate\Http\Request;

class HelpCommand implements ChatStrategy
{
    private array $keyboard;

    public function __construct()
    {
        $this->keyboard = [
            "one_time" => false,
            "buttons" => [[
            ]]];

    }

    public function HandleMessage(Request $request): array
    {
        $status = (new UserController())->CheckUser($request);
        if ($status == "Successful addition"){
            $data = array('text,{"button": "1"},ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ');
            $keyboard = (new KeyboardGenerate($this->keyboard))->generate($data, "new");
            $encodedKeyboard = json_encode($keyboard);
            return ["text" => "Ğ’Ğ°Ğ¼ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ: ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ ",
                "keyboard_status" => true,
                'reply_markup' => $encodedKeyboard
            ];
        }else{
            return ["text" => "
âš Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´:âš \n
ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢
ğŸ ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ (Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°, Ñ‚ÑƒÑ‚ Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ Ğº ĞºĞ¾Ğ¼Ñƒ Ğ¾Ğ±Ñ€Ğ°Ñ‰Ğ°Ñ‚ÑŒÑÑ ĞµÑĞ»Ğ¸ Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ½ĞµĞ¿Ğ¾Ğ½ÑÑ‚Ğ½Ğ¾.) (âš  Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ)
ğŸ Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸ - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ğ¿Ğ¾Ñ…Ğ¾Ğ´Ğ° Ğ¼ĞµÑÑ‚
ğŸ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ - Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ²Ğ°ÑˆĞµĞ¼ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğµ Ğ² Ğ±Ğ¾Ñ‚Ğµ
ğŸ Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ - Ñ‚ÑƒÑ‚ Ğ²Ñ‹ ÑĞ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ·Ğ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑ‚ÑŒ Ğ¸Ñ…, Ğ·Ğ° Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ Ğ²Ñ‹ Ğ±ÑƒĞ´ĞµÑ‚Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ Ğ½Ğ°Ğ³Ñ€Ğ°Ğ´Ñƒ
ğŸ ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½ - Ğ±Ğ¾Ñ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ Ğ²Ğ°Ğ¼ Ğ²ÑĞµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹ Ğ½Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚.
ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢
ğŸĞŸÑ€Ğ¾ĞºĞ°Ñ‡ĞºĞ°(ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ¿Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ¹ Ğ¸ Ğ¿Ñ€Ğ¾ĞºĞ°Ñ‡ĞºĞ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°!) (âš  Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ)
ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢
Ğ˜Ğ²ĞµĞ½Ñ‚Ñ‹:
ğŸĞ’Ğ¸ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ° (Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ€Ñ‚Ğ° Ğ²Ğ¸ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ñ‹) (âš  Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ)
ğŸĞĞ°Ğ³Ñ€Ğ°Ğ´Ñ‹ Ğ»Ğ¸Ñ(Ñ€Ğ°ÑÑĞºĞ°Ğ¶ĞµÑ‚ Ğ²Ğ°Ğ¼ Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ±Ğ¾Ñ‚Ñƒ Ğ¸ ĞºĞ°ĞºĞ¸Ğµ Ğ½Ğ°Ğ³Ñ€Ğ°Ğ´Ñ‹ Ğ²Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ) (âš  Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ)
ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢",
                "keyboard_status" => false,
            ];
        }
    }
}



